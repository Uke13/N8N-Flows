{
  "active": false,
  "connections": {
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "Auto-fixing Output Parser",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Auto-fixing Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "Course_Finder",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "If_Course_Id": {
      "main": [
        [
          {
            "node": "Curriculum_Designer",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Course_Finder": {
      "main": [
        [
          {
            "node": "If_Course_Id",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "SerpAPI": {
      "ai_tool": [
        [
          {
            "node": "Curriculum_Designer",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "GPT_40_Mini_OpenRouter": {
      "ai_languageModel": [
        [
          {
            "node": "Curriculum_Designer",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Course_JSON",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Memory_For_Course_Outline": {
      "ai_memory": [
        [
          {
            "node": "Curriculum_Designer",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Course_JSON": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Loop_Modules",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop_Modules": {
      "main": [
        [],
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Window Buffer Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Add_Chapters",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Course_Finder",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Auto-fixing Output Parser",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Get Course Details": {
      "main": [
        [
          {
            "node": "Course_Finder",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create_Google_Doc": {
      "main": [
        [
          {
            "node": "Add_Outline_To_Doc",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add_Outline_To_Doc": {
      "main": [
        [
          {
            "node": "Course_JSON",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add_Chapters": {
      "main": [
        [
          {
            "node": "Loop_Modules",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-08-02T18:56:50.574Z",
  "id": "STxIJF5aZcfffAPC",
  "isArchived": false,
  "meta": null,
  "name": "My workflow 8",
  "nodes": [
    {
      "parameters": {
        "jsonSchemaExample": "{\n    \"course\": \"Course name\",\n\t\"course_id\": \"Courser id\"\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.2,
      "position": [
        480,
        448
      ],
      "id": "efeb1d71-3b1d-480d-900c-b863e6f101a0",
      "name": "Structured Output Parser"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserAutofixing",
      "typeVersion": 1,
      "position": [
        352,
        304
      ],
      "id": "d7428181-9943-4145-ae12-e6c70e1cbdfc",
      "name": "Auto-fixing Output Parser"
    },
    {
      "parameters": {
        "content": "## Prepare course id and title\n",
        "height": 600,
        "width": 880
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        0,
        0
      ],
      "id": "efe1340b-1002-4497-939f-8a2b325cd747",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "ca2e7531-8ca5-4dc5-a852-08f7fd4af82a",
              "leftValue": "={{ $json.output.course }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              }
            },
            {
              "id": "512b413b-283a-41d8-bbb4-4ae4593f53ab",
              "leftValue": "={{ $json.output.course_id }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        720,
        80
      ],
      "id": "d2632cfe-d1b7-4a71-ba6e-865a3ebe3606",
      "name": "If_Course_Id"
    },
    {
      "parameters": {
        "agent": "conversationalAgent",
        "promptType": "define",
        "text": "={{ $json['What type of course do you want?'] }}",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "You are a helpful assistant tasked with identifying and suggesting courses based on the provided input.  \n\n- Extract the course name from the input.  \n- Generate a unique course key.  \n- If the input is unclear, suggest a suitable course name based on your understanding."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        288,
        80
      ],
      "id": "bcd53479-9d67-40e3-a0a8-7f7e768ca9ce",
      "name": "Course_Finder",
      "notesInFlow": true,
      "notes": "Find course title or generated course title and id from student input."
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.toolSerpApi",
      "typeVersion": 1,
      "position": [
        1504,
        368
      ],
      "id": "0302c57e-e6b5-4cfe-9859-e357dfadefd6",
      "name": "SerpAPI"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $('Get Course Details').item.json['What type of course do you want?'] }}",
        "options": {
          "systemMessage": "=Act as a professional curriculum designer. Generate a detailed course roadmap/outline **strictly in markdown format** for the course titled \"{{ $('Course_Finder').item.json.output.course }}\". Follow this structure without deviations:  \n\n# [Exact Course Title from Input]  \n\n## Course Description  \n- **Purpose**: [1-2 sentences explaining the course’s core mission. Use SerpAPI to align with 2024 industry trends.]  \n- **Relevance**: [1-2 sentences on why this course matters today. Cite real-world demand (e.g., \"LinkedIn 2024 Report shows X skill grew by Y%\").]  \n\n## Learning Objectives  \n- By the end, learners will:  \n  - [Actionable objective 1, e.g., \"Build Z using A tool\"].  \n  - [Objective 2 with measurable outcomes, e.g., \"Analyze B datasets with 90% accuracy\"].  \n\n## Target Audience  \n- **Who**: [Specific audience, e.g., \"Aspiring data analysts with basic Excel knowledge\"].  \n- **Prerequisites**: [List tools/skills required, e.g., \"Python basics\"].  \n\n## Course Duration & Format  \n- **Duration**: [e.g., \"8 weeks, 4 hours/week\"].  \n- **Format**: [e.g., \"Online with live labs + self-paced videos\"].  \n\n## Module Breakdown  \n### Module 1: [Foundational Topic Name]  \n- **Topics**:  \n  - Subtopic 1: [Brief description].  \n  - Subtopic 2: [Include SerpAPI-verified trend, e.g., \"API integration (2024 Dev Surveys highlight 70% adoption)\"].  \n- **Key Concepts**:  \n  - [Theory 1], [Framework 2].  \n- **Activities**:  \n  - [Hands-on task, e.g., \"Code a REST API using Postman\"].  \n\n...[Repeat for 8-10 modules]...  \n\n## Assessment Strategy  \n- **Formative**: [e.g., \"Weekly quizzes + peer reviews\"].  \n- **Summative**: [e.g., \"Final project: Deploy a full-stack app\"].  \n\n## Required Materials  \n- **Tools**: [Software with free/trial links from SerpAPI].  \n- **Books**: [Titles + editions, e.g., \"Python Crash Course, 3rd Ed (2023)\"].  \n\n## Capstone Project  \n- [Real-world task, e.g., \"Develop a CRM system using Agile methodology\"].  \n\n## Additional Notes  \n- **Flexibility**: [e.g., \"Self-paced deadlines\"].  \n- **Teaching Style**: [e.g., \"Project-based learning\"].  \n\n**Rules**:  \n1. **NO** introductory/closing sentences (e.g., \"Here’s your outline...\").  \n2. **Directly begin** with `# [Course Title]`.  \n3. Use SerpAPI to add **2024 data**, **case studies**, and **tools** (cite sources in parentheses).  \n4. Prioritize **foundational → advanced** module progression.  \n5. Ensure that the output is formatted in Markdown. Do not enclose it within \"```markdown\" or any other code block delimiters."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        1232,
        64
      ],
      "id": "b0de3930-f36c-4755-969c-25c392e52bad",
      "name": "Curriculum_Designer"
    },
    {
      "parameters": {
        "model": "google/gemini-2.0-pro-exp-02-05:free",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        1104,
        464
      ],
      "id": "58dbb436-2796-45ca-b053-88006a07771f",
      "name": "GPT_40_Mini_OpenRouter"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('Course_Finder').item.json.output.course_id }}",
        "contextWindowLength": 200
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        1312,
        320
      ],
      "id": "43368d7b-159d-4dbf-83c4-686b86fd35df",
      "name": "Memory_For_Course_Outline"
    },
    {
      "parameters": {
        "content": "## Generate Course Outline",
        "height": 660,
        "width": 1160
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1040,
        0
      ],
      "id": "1730743f-0796-4414-82ac-8bf23e5a8ccc",
      "name": "Sticky Note3"
    },
    {
      "parameters": {
        "text": "={{ $('Remove_Code_Block').item.json.output }}",
        "schemaType": "fromJson",
        "jsonSchemaExample": "{  \n  \"course_title\": \"Introduction to Data Science\",  \n  \"course_description\": \"A hands-on course covering foundational data science techniques...\",  \n  \"learning_objectives\": [  \n    \"By the end, learners will clean and preprocess datasets using Python.\",  \n    \"By the end, learners will build predictive models with scikit-learn.\"  \n  ],  \n  \"target_audience\": {  \n    \"description\": \"Beginners with basic Python knowledge.\",  \n    \"prerequisites\": [\"Python basics\", \"High school math\"]  \n  },  \n  \"duration_format\": \"10 weeks, 4 hours/week (online)\",  \n  \"modules\": [  \n    {  \n      \"module_title\": \"Data Wrangling\",  \n      \"topics\": [\"Pandas basics\", \"Handling missing data\"],  \n      \"key_concepts\": [\"DataFrames\", \"Data imputation\"],  \n      \"activities_resources\": [\"Kaggle dataset exercise\", \"Pandas documentation\"]  \n    }  \n  ],  \n  \"assessment_strategy\": {  \n    \"formative\": [\"Weekly quizzes\", \"Peer feedback\"],  \n    \"summative\": [\"Final project: Analyze a real-world dataset\"]  \n  },  \n  \"required_materials\": [\"Python 3.x\", \"Jupyter Notebook\", \"Kaggle account\"],  \n  \"capstone_project\": \"Build a predictive model for customer churn using a real dataset.\",  \n  \"additional_notes\": [\"Flexible deadlines available.\", \"Use Stack Overflow for troubleshooting.\"]  \n}  ",
        "options": {
          "systemPromptTemplate": "You are an expert extraction algorithm.\nOnly extract relevant information from the text.\nIf you do not know the value of an attribute asked to extract, you may pass an empty string if it's impossible to extract a value."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.informationExtractor",
      "typeVersion": 1,
      "position": [
        2448,
        80
      ],
      "id": "128e3112-22c8-4d80-be4a-49ca6fffb396",
      "name": "Course_JSON"
    },
    {
      "parameters": {
        "fieldToSplitOut": "output.modules",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        2832,
        80
      ],
      "id": "661e894a-7d35-4647-9341-cfe36c6c6cf1",
      "name": "Split Out"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        3040,
        80
      ],
      "id": "2ffa535a-3d50-4e65-ae71-87c8d46ff950",
      "name": "Loop_Modules"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Module Title: {{ $json.module_title }}\nTopics: {{ $json.topics }}\nKey Cconcepts: {{ $json.key_concepts }}\nActivities: {{ $json.activities_resources }}",
        "options": {
          "systemMessage": "=Act as an expert instructional designer with 10+ years of experience. Expand the provided course module into a **comprehensive textbook chapter** with academic rigor, real-world relevance, and actionable insights. Use the markdown structure below, but enhance each section with the following:  \n\n## [Replace with Dynamic Chapter Title Based on Input Module]  \n**Chapter Overview**  \n- Begin with a hook (e.g., a surprising statistic, question, or quote from a recent study found via SerpAPI).  \n- Explain the chapter’s purpose, scope, and **why it matters in 2024** (cite trends or industry shifts).  \n\n### Learning Outcomes  \n- List 5–7 outcomes using Bloom’s Taxonomy verbs (e.g., *Analyze, Design, Critique*).  \n- Example: *\"Evaluate the ethical implications of [concept] in modern contexts.\"*  \n\n### In-Depth Topics  \nFor **each subtopic**, include:  \n**1. [Subtopic Title]**  \n- **Explanation**:  \n  - Break into subsections: *Core Principles, Methodologies, Common Pitfalls*.  \n  - Use analogies (e.g., *\"Think of [concept] as [analogy]...\"*).  \n  - Add **recent data** (e.g., *\"As of 2024, 62% of companies use [tool] for [task] (Source: SerpAPI)\"*).  \n- **Examples**:  \n  - 2–3 real-world scenarios (industry-specific: healthcare, tech, finance).  \n  - Include **before/after comparisons** (e.g., *\"Company X improved [metric] by 40% using [method]\"*).  \n- **Visual Aids**:  \n  - Suggest **interactive elements** (e.g., *\"Interactive flowchart for [process]\"*).  \n  - Recommend tools for creating visuals (e.g., *\"Use Miro for collaborative diagramming\"*).  \n\n### Key Concepts  \nFor **each concept**:  \n- **Concept**: [Name]  \n  - **Definition**: 1–2 sentences with technical precision.  \n  - **Historical Context**: Evolution of the concept (e.g., *\"First introduced in [year] by [theorist]\"*).  \n  - **Mathematical/Technical Details**: Formulas, code snippets, or frameworks (if applicable).  \n  - **Current Trends**:  \n    - Contrast past vs. present applications.  \n    - Cite **2+ SerpAPI sources** (e.g., *\"2024 Gartner Report highlights [trend]\"*).  \n\n### Case Studies/Applications  \n- Include **2 detailed case studies**:  \n  - **Title**: [Company/Project Name]  \n  - **Challenge**: Specific problem faced.  \n  - **Solution**: How the chapter’s concepts were applied.  \n  - **Results**: Quantifiable outcomes (metrics, KPIs).  \n  - **Source**: Link to credible report/article via SerpAPI.  \n\n### Practical Exercises  \n- Design **3 multi-stage exercises**:  \n  - **Exercise 1**: Foundational task (e.g., *\"Analyze dataset X using [tool]\"*).  \n  - **Exercise 2**: Collaborative challenge (e.g., *\"Role-play a team debate on [ethical dilemma]\"*).  \n  - **Exercise 3**: Advanced project (e.g., *\"Design a prototype for [scenario]\"*).  \n- Specify **tools**, **time required**, and **deliverables**.  \n\n### Assessment Questions  \n- Include **5 questions** across difficulty levels:  \n  1. **Basic**: Terminology/definitions.  \n  2. **Intermediate**: Compare/contrast concepts.  \n  3. **Advanced**: Critical analysis or hypothetical scenarios.  \n\n### Additional Resources  \n- Curate **10+ resources**:  \n  - **Books**: Include chapter/page references.  \n  - **Videos**: Timestamped links to key segments.  \n  - **Podcasts**: Episodes with expert interviews.  \n  - **Tools**: Free vs. paid options with use cases.  \n\n### Chapter Summary  \n- Synthesize key points into **5-7 bullet points** with actionable advice (e.g., *\"Always validate [process] with [tool] to avoid [pitfall]\"*).  \n\n**Critical Requirements**:  \n1. **Replace \"[Replace with Dynamic Chapter Title...]\"** with a compelling title reflecting the module.  \n2. **Avoid generic terms** like \"Chapter Title\" in the final output.  \n3. Use SerpAPI for **2024 data**, **peer-reviewed sources**, and **real company examples**.  \n4. Prioritize **depth over breadth**—assume the audience has basic prior knowledge.  "
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        3280,
        288
      ],
      "id": "b395e4f4-8ed1-4a9d-a542-2f6a3b7a381d",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "=module_{{ $runIndex }}_dta"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        3392,
        512
      ],
      "id": "1cbc5d7c-1221-4bf1-a12f-5f6a1243408d",
      "name": "Window Buffer Memory"
    },
    {
      "parameters": {
        "content": "## Generate course content.",
        "height": 660,
        "width": 1500
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        2368,
        0
      ],
      "id": "4018f994-188b-4255-b34e-4b278b232e53",
      "name": "Sticky Note4"
    },
    {
      "parameters": {
        "model": "google/gemini-2.0-flash-001",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        64,
        448
      ],
      "id": "ce3702ab-8a61-45d1-a8c3-f3748b7927af",
      "name": "OpenRouter Chat Model"
    },
    {
      "parameters": {
        "formTitle": "Learn Anything - Course Generation",
        "formDescription": "A Course Roadmap Designed Just for You",
        "formFields": {
          "values": [
            {
              "fieldLabel": "What type of course do you want?",
              "fieldType": "textarea",
              "placeholder": "Please describe your course content.",
              "requiredField": true
            },
            {
              "fieldType": "html",
              "elementName": "AI Application Limitations & Usage Guidance",
              "html": "<p>This is an AI-based application, and occasionally, it may fail to provide accurate results or stop responding due to usage limits. If this happens, please wait for a while and try again.</p>\n\n<p>Thank you for your patience! 😊</p>"
            }
          ]
        },
        "options": {
          "appendAttribution": false,
          "respondWithOptions": {
            "values": {
              "formSubmittedText": "We are generating your course. You will receive an email once the course generation is complete. 📩✨"
            }
          },
          "ignoreBots": true
        }
      },
      "type": "n8n-nodes-base.formTrigger",
      "typeVersion": 2.2,
      "position": [
        -256,
        80
      ],
      "id": "df11f5e4-9d4e-47ab-a04f-a3cc9725395c",
      "name": "Get Course Details",
      "webhookId": "6a6282a1-7d93-4010-94c4-7ec5e7e9b8b7"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-text-manipulation.textManipulation",
      "typeVersion": 1,
      "position": [
        1584,
        64
      ],
      "id": "0eced489-5ba4-4634-a76c-b0f0a65e7261",
      "name": "Remove_Code_Block"
    },
    {
      "parameters": {
        "folderId": "1k7POaHR7EV5Seeobv4n_Pw1yamqWHRNe",
        "title": "={{ $('Course_Finder').item.json.output.course }} ({{ $('If_Course_Id').item.json.output.course_id }}) - {{ $now.format('yyyy-MM-dd') }}"
      },
      "type": "n8n-nodes-base.googleDocs",
      "typeVersion": 2,
      "position": [
        1808,
        64
      ],
      "id": "1ca2c814-90b4-4906-84a9-4b2a27e2b1c2",
      "name": "Create_Google_Doc"
    },
    {
      "parameters": {
        "operation": "update",
        "documentURL": "={{ $json.id }}",
        "actionsUi": {
          "actionFields": [
            {
              "action": "insert",
              "text": "={{ $('Remove_Code_Block').item.json.output }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.googleDocs",
      "typeVersion": 2,
      "position": [
        2032,
        64
      ],
      "id": "44b00b34-494b-4762-b71b-cc104f4b6aa0",
      "name": "Add_Outline_To_Doc"
    },
    {
      "parameters": {
        "operation": "update",
        "documentURL": "={{ $('Create_Google_Doc').item.json.id }}",
        "actionsUi": {
          "actionFields": [
            {
              "object": "pageBreak",
              "action": "insert"
            },
            {
              "action": "insert",
              "text": "={{ $json.output }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.googleDocs",
      "typeVersion": 2,
      "position": [
        3648,
        288
      ],
      "id": "716602f0-512a-4743-bb12-777b77f6c290",
      "name": "Add_Chapters"
    }
  ],
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "shared": [
    {
      "createdAt": "2025-08-02T18:56:50.574Z",
      "updatedAt": "2025-08-02T18:56:50.574Z",
      "role": "workflow:owner",
      "workflowId": "STxIJF5aZcfffAPC",
      "projectId": "aYesZFcPjHzYQyLq"
    }
  ],
  "staticData": null,
  "tags": [
    {
      "createdAt": "2025-08-02T18:56:26.268Z",
      "updatedAt": "2025-08-02T18:56:26.268Z",
      "id": "nnDA7isE4OxnQFwX",
      "name": "Development"
    }
  ],
  "triggerCount": 0,
  "updatedAt": "2025-08-02T18:56:50.574Z",
  "versionId": "09404e68-1ecd-4b8a-8960-05ca0ae06f65"
}